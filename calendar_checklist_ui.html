<!DOCTYPE html>
<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Nous Calendar Checklist</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    <style>\n        .task-item {\n            transition: all 0.2s ease;\n        }\n        .completed {\n            text-decoration: line-through;\n            color: #9ca3af;\n        }\n        .task-icon {\n            font-size: 1.2em;\n        }\n        .task-category-training { background-color: #fef2f2; border-left: 4px solid #dc2626; }\n        .task-category-academic { background-color: #eff6ff; border-left: 4px solid #2563eb; }\n        .task-category-personal { background-color: #f0f9ff; border-left: 4px solid #0284c7; }\n        .task-category-travel { background-color: #f0fdf4; border-left: 4px solid #16a34a; }\n        .task-category-default { background-color: #fafafa; border-left: 4px solid #6b7280; }\n        .keep-note {\n            background-color: #fff9c4;\n            border-radius: 12px;\n            box-shadow: 0 4px 6px rgba(0,0,0,0.05), 0 1px 3px rgba(0,0,0,0.08);\n            transition: all 0.2s ease;\n        }\n        .keep-note:hover {\n            box-shadow: 0 6px 12px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.1);\n            transform: translateY(-1px);\n        }\n        .task-input {\n            border: 2px solid #e5e7eb;\n            border-radius: 12px;\n            transition: all 0.2s ease;\n        }\n        .task-input:focus {\n            border-color: #3b82f6;\n            outline: none;\n            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n        }\n        .btn-primary {\n            background-color: #3b82f6;\n            border-radius: 12px;\n            transition: all 0.2s ease;\n        }\n        .btn-primary:hover {\n            background-color: #2563eb;\n            transform: translateY(-1px);\n        }\n        .date-picker {\n            border: 2px solid #e5e7eb;\n            border-radius: 12px;\n            padding: 0.5rem;\n            transition: all 0.2s ease;\n        }\n        .date-picker:focus {\n            border-color: #3b82f6;\n            outline: none;\n            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n        }\n    </style>\n</head>\n<body class=\"bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen\">\n    <div class=\"container mx-auto px-4 py-8 max-w-4xl\">\n        <header class=\"mb-8 text-center\">\n            <h1 class=\"text-4xl font-bold text-gray-800 mb-2\">\n                <i class=\"fas fa-calendar-check mr-3 text-blue-500\"></i>\n                Nous Calendar Checklist\n            </h1>\n            <p class=\"text-gray-600 text-lg\">Google Keep-style daily checklist with calendar integration</p>\n        </header>\n\n        <div class=\"grid grid-cols-1 gap-6\">\n            <!-- Input Area -->\n            <div class=\"bg-white rounded-2xl shadow-lg p-6\">\n                <div class=\"flex flex-col md:flex-row gap-4 items-end\">\n                    <div class=\"flex-1 w-full\">\n                        <label class=\"block text-sm font-medium text-gray-700 mb-2\">Select Date</label>\n                        <input \n                            type=\"date\" \n                            id=\"datePicker\" \n                            class=\"date-picker w-full px-4 py-3 focus:ring-2 focus:ring-blue-300\"\n                        >\n                    </div>\n                    <div class=\"flex-1 w-full\">\n                        <label class=\"block text-sm font-medium text-gray-700 mb-2\">Add New Task</label>\n                        <input \n                            type=\"text\" \n                            id=\"newTaskInput\" \n                            placeholder=\"Add a task... (e.g. 'gym 6pm' or 'study math')\"\n                            class=\"task-input w-full px-4 py-3 focus:ring-2 focus:ring-blue-300\"\n                        >\n                    </div>\n                    <button \n                        id=\"addTaskBtn\" \n                        class=\"btn-primary text-white py-3 px-6 font-medium h-[58px]\"\n                    >\n                        <i class=\"fas fa-plus mr-2\"></i> Add Task\n                    </button>\n                </div>\n                \n                <div class=\"mt-4\">\n                    <h3 class=\"font-medium text-gray-700 mb-2\">Examples:</h3>\n                    <div class=\"text-sm text-gray-600 flex flex-wrap gap-2\">\n                        <span class=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-lg\">gym 6pm</span>\n                        <span class=\"bg-green-100 text-green-800 px-2 py-1 rounded-lg\">study math 2 hours</span>\n                        <span class=\"bg-purple-100 text-purple-800 px-2 py-1 rounded-lg\">meet John at cafe</span>\n                        <span class=\"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-lg\">travel to airport</span>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Tasks Display -->\n            <div class=\"bg-white rounded-2xl shadow-lg p-6\">\n                <div class=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6\">\n                    <h2 class=\"text-2xl font-semibold text-gray-800 mb-2 sm:mb-0\" id=\"currentDateHeader\">Today's Tasks</h2>\n                    <div class=\"flex items-center text-gray-600\">\n                        <i class=\"fas fa-tasks mr-2\"></i>\n                        <span id=\"taskCount\">0 tasks</span>\n                    </div>\n                </div>\n                \n                <div id=\"tasksContainer\" class=\"space-y-4 min-h-[250px]\">\n                    <div class=\"text-center py-12 text-gray-500\" id=\"emptyState\">\n                        <div class=\"text-5xl mb-4 mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center\">\n                            <i class=\"fas fa-clipboard-list\"></i>\n                        </div>\n                        <p class=\"text-xl font-medium mb-1\">No tasks yet</p>\n                        <p class=\"text-gray-600\">Add a task to get started</p>\n                    </div>\n                </div>\n            </div>\n            \n            <!-- Task Categories Summary -->\n            <div class=\"bg-white rounded-2xl shadow-lg p-6\">\n                <div class=\"flex items-center mb-3\">\n                    <i class=\"fas fa-chart-pie text-blue-500 mr-3 text-xl\"></i>\n                    <h3 class=\"text-xl font-semibold text-gray-800\">Today's Focus</h3>\n                </div>\n                <div id=\"summaryArea\" class=\"text-gray-700 text-lg\">\n                    Add tasks to see summary\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        // Include the CalendarChecklistManager code directly\n        class CalendarChecklistManager {\n          constructor() {\n            this.checklists = new Map(); // Date -> Checklist items\n            this.categories = {\n              'training': ['train', 'gym', 'bjj', 'workout', 'exercise', 'session', 'practice', 'training', 'cardio', 'strength', 'yoga', 'run', 'fitness'],\n              'academic': ['study', 'sch', 'class', 'lecture', 'exam', 'review', 'read', 'homework', 'research', 'project', 'assignment', 'paper', 'course', 'lesson'],\n              'personal': ['meet', 'appointment', 'lunch', 'dinner', 'call', 'chat', 'meditation', 'reflection', 'personal', 'errand', 'shop', 'appointment', 'doctor'],\n              'travel': ['fly', 'trip', 'travel', 'flight', 'drive', 'visit', 'transport', 'commute', 'direction', 'journey', 'vacation']\n            };\n            this.categoryIcons = {\n              'training': '💪',\n              'academic': '📚',\n              'personal': '👤',\n              'travel': '✈️',\n              'default': '📝'\n            };\n          }\n\n          /**\n           * Parse user input and extract tasks with dates/times\n           * @param {string} input - Natural language input from user\n           * @param {string} date - Date in YYYY-MM-DD format\n           * @returns {Array} Parsed tasks with dates and metadata\n           */\n          parseInput(input, date) {\n            const lines = input.split('\\n').filter(line => line.trim() !== '');\n            const tasks = [];\n\n            for (const line of lines) {\n              const trimmedLine = line.trim();\n              if (trimmedLine && !trimmedLine.startsWith('//')) {\n                const task = this.parseTask(trimmedLine, date);\n                if (task) {\n                  tasks.push(task);\n                }\n              }\n            }\n            \n            return tasks;\n          }\n\n          /**\n           * Parse individual task with time, category, etc.\n           * @param {string} taskStr - Task string like \"train 10 am\"\n           * @param {string} date - Date in YYYY-MM-DD format\n           * @returns {Object} Task object\n           */\n          parseTask(taskStr, date) {\n            // Extract time patterns\n            const timeMatch = taskStr.match(/\\b(\\d{1,2})(?::(\\d{2}))?\\s*(am|pm|a\\.m\\.\\|p\\.m\\.)?\\b/i);\n            let time = '08:00'; // Default time\n            let taskWithoutTime = taskStr;\n            \n            if (timeMatch) {\n              let hours = parseInt(timeMatch[1]);\n              const minutes = timeMatch[2] || '00';\n              const period = timeMatch[3]?.toLowerCase().replace('.', '');\n              \n              // Convert to 24-hour format\n              if (period && period.includes('p') && hours !== 12) {\n                hours += 12;\n              } else if (period && period.includes('a') && hours === 12) {\n                hours = 0;\n              }\n              \n              time = `${hours.toString().padStart(2, '0')}:${minutes}`;\n              taskWithoutTime = taskStr.replace(timeMatch[0], '').trim();\n            }\n            \n            // Determine category based on keywords\n            let category = 'default';\n            for (const [cat, keywords] of Object.entries(this.categories)) {\n              for (const keyword of keywords) {\n                if (taskWithoutTime.toLowerCase().includes(keyword.toLowerCase())) {\n                  category = cat;\n                  break;\n                }\n              }\n              if (category !== 'default') break;\n            }\n            \n            // Format the task name\n            let formattedTask = taskWithoutTime\n              .replace(/\\s+/g, ' ')\n              .trim();\n            \n            formattedTask = formattedTask.charAt(0).toUpperCase() + formattedTask.slice(1);\n            \n            return {\n              id: this.generateId(),\n              date,\n              time,\n              task: formattedTask,\n              category,\n              done: false,\n              icon: this.categoryIcons[category] || this.categoryIcons.default\n            };\n          }\n\n          /**\n           * Generate a unique ID\n           */\n          generateId() {\n            return 'task_' + Date.now() + '_' + Math.floor(Math.random() * 1000000);\n          }\n\n          /**\n           * Add a task to the checklist\n           * @param {Object} task - Task object\n           */\n          addTask(task) {\n            const date = task.date;\n            if (!this.checklists.has(date)) {\n              this.checklists.set(date, []);\n            }\n            this.checklists.get(date).push(task);\n          }\n\n          /**\n           * Toggle task completion status\n           * @param {string} taskId - ID of the task to toggle\n           */\n          toggleTask(taskId) {\n            for (const [date, tasks] of this.checklists) {\n              const task = tasks.find(t => t.id === taskId);\n              if (task) {\n                task.done = !task.done;\n                return true;\n              }\n            }\n            return false;\n          }\n\n          /**\n           * Delete a task\n           * @param {string} taskId - ID of the task to delete\n           */\n          deleteTask(taskId) {\n            for (const [date, tasks] of this.checklists) {\n              const index = tasks.findIndex(t => t.id === taskId);\n              if (index !== -1) {\n                tasks.splice(index, 1);\n                return true;\n              }\n            }\n            return false;\n          }\n\n          /**\n           * Get tasks for a specific date\n           * @param {string} date - Date in YYYY-MM-DD format\n           * @returns {Array} Tasks for the date\n           */\n          getTasksForDate(date) {\n            return this.checklists.get(date) || [];\n          }\n\n          /**\n           * Get tasks for a week\n           * @param {string} startDate - Start date in YYYY-MM-DD format\n           * @returns {Map} Map of date -> tasks\n           */\n          getWeekView(startDate) {\n            const start = new Date(startDate);\n            const weekTasks = new Map();\n            \n            for (let i = 0; i < 7; i++) {\n              const date = new Date(start);\n              date.setDate(start.getDate() + i);\n              const dateStr = date.toISOString().split('T')[0];\n              \n              weekTasks.set(dateStr, this.checklists.get(dateStr) || []);\n            }\n            \n            return weekTasks;\n          }\n\n          /**\n           * Generate summary for a date\n           * @param {string} date - Date in YYYY-MM-DD format\n           * @returns {string} Summary string\n           */\n          generateDaySummary(date) {\n            const tasks = this.checklists.get(date) || [];\n            if (tasks.length === 0) return 'No tasks scheduled';\n            \n            // Count tasks by category\n            const categoryCounts = {};\n            for (const task of tasks) {\n              categoryCounts[task.category] = (categoryCounts[task.category] || 0) + 1;\n            }\n            \n            // Create focus summary\n            const categories = Object.keys(categoryCounts);\n            \n            // Convert category names to readable format\n            const readableCategories = categories.map(cat => {\n              if (cat === 'training') return 'Training';\n              if (cat === 'academic') return 'Academic';\n              if (cat === 'personal') return 'Personal';\n              if (cat === 'travel') return 'Travel';\n              return cat.charAt(0).toUpperCase() + cat.slice(1);\n            });\n            \n            const focus = readableCategories.length > 1 \n              ? `Focus: ${readableCategories.join(' + ')}` \n              : `Focus: ${readableCategories[0]}`;\n            \n            return focus;\n          }\n        }\n\n        // Initialize the manager\n        const manager = new CalendarChecklistManager();\n        let currentDate = new Date().toISOString().split('T')[0];\n\n        // DOM Elements\n        const datePicker = document.getElementById('datePicker');\n        const newTaskInput = document.getElementById('newTaskInput');\n        const addTaskBtn = document.getElementById('addTaskBtn');\n        const tasksContainer = document.getElementById('tasksContainer');\n        const currentDateHeader = document.getElementById('currentDateHeader');\n        const taskCount = document.getElementById('taskCount');\n        const summaryArea = document.getElementById('summaryArea');\n        const emptyState = document.getElementById('emptyState');\n\n        // Initialize date picker to today\n        datePicker.value = currentDate;\n\n        // Event listeners\n        datePicker.addEventListener('change', (e) => {\n            currentDate = e.target.value;\n            updateDisplay();\n        });\n\n        addTaskBtn.addEventListener('click', () => {\n            const taskText = newTaskInput.value.trim();\n            if (taskText) {\n                // Create task for the selected date\n                const tasks = manager.parseInput(taskText, currentDate);\n                for (const task of tasks) {\n                    manager.addTask(task);\n                }\n                newTaskInput.value = '';\n                updateDisplay();\n                \n                // Show a temporary notification\n                const notification = document.createElement('div');\n                notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md shadow-lg';\n                notification.textContent = `Added task to ${formatDate(currentDate)}`;\n                document.body.appendChild(notification);\n                \n                setTimeout(() => {\n                    notification.remove();\n                }, 2000);\n            }\n        });\n\n        // Allow adding tasks by pressing Enter\n        newTaskInput.addEventListener('keypress', (e) => {\n            if (e.key === 'Enter') {\n                addTaskBtn.click();\n            }\n        });\n\n        // Update the display for current date\n        function updateDisplay() {\n            // Update date header\n            const dateObj = new Date(currentDate);\n            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n            currentDateHeader.textContent = dateObj.toLocaleDateString('en-US', options);\n            \n            // Get tasks for the current date\n            const tasks = manager.getTasksForDate(currentDate);\n            tasks.sort((a, b) => a.time.localeCompare(b.time)); // Sort by time\n            \n            // Update task count\n            taskCount.textContent = `${tasks.length} ${tasks.length === 1 ? 'task' : 'tasks'}`;\n            \n            // Clear tasks container\n            tasksContainer.innerHTML = '';\n            \n            if (tasks.length === 0) {\n                tasksContainer.appendChild(emptyState);\n                emptyState.style.display = 'block';\n            } else {\n                emptyState.style.display = 'none';\n                \n                for (const task of tasks) {\n                    const taskElement = createTaskElement(task);\n                    tasksContainer.appendChild(taskElement);\n                }\n            }\n            \n            // Update summary\n            summaryArea.textContent = manager.generateDaySummary(currentDate);\n        }\n\n        // Create a task element\n        function createTaskElement(task) {\n            const taskDiv = document.createElement('div');\n            taskDiv.className = `keep-note p-4 task-item task-category-${task.category}`;\n            taskDiv.innerHTML = `\n                <div class=\"flex items-start\">\n                    <button onclick=\"toggleTask('${task.id}')\" class=\"mr-3 mt-1 text-xl w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-200\">\n                        ${task.done ? '✅' : '○'}\n                    </button>\n                    <div class=\"flex-1 min-w-0\">\n                        <div class=\"flex items-center\">\n                            <span class=\"task-icon mr-2\">${task.icon}</span>\n                            <span class=\"${task.done ? 'completed' : ''} font-medium\">${task.task}</span>\n                        </div>\n                        ${task.time !== '08:00' ? \`<div class=\"text-sm text-gray-500 mt-1\"><i class=\"far fa-clock mr-1\"></i> \${task.time}</div>\` : ''}\n                    </div>\n                    <button onclick=\"deleteTask('${task.id}')\" class=\"text-red-500 hover:text-red-700 ml-2 text-xl\">\n                        <i class=\"fas fa-trash\"></i>\n                    </button>\n                </div>\n            `;\n            return taskDiv;\n        }\n\n        // Format date for display\n        function formatDate(dateStr) {\n            const dateObj = new Date(dateStr);\n            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n            return dateObj.toLocaleDateString('en-US', options);\n        }\n\n        // Global functions for buttons in rendered HTML\n        window.toggleTask = function(taskId) {\n            manager.toggleTask(taskId);\n            updateDisplay();\n        };\n\n        window.deleteTask = function(taskId) {\n            manager.deleteTask(taskId);\n            updateDisplay();\n        };\n\n        // Initialize the display\n        updateDisplay();\n    </script>\n</body>\n</html>\n